{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pee10/Desktop/New%20Folder%20%283%29/Prime%20Pillars/customer-app/lib/api.ts"],"sourcesContent":["const BASE_URL = 'http://localhost:5000'\r\n\r\nconst buildUrl = (path: string) => `${BASE_URL}${path}`\r\n\r\nconst handleResponse = async (res: Response) => {\r\n  if (!res.ok) {\r\n    const error = await res.json().catch(() => ({}))\r\n    throw new Error(error.error || 'An unexpected error occurred')\r\n  }\r\n  return res.json()\r\n}\r\n\r\nexport async function apiGet<T = any>(path: string): Promise<T> {\r\n  const res = await fetch(buildUrl(path), {\r\n    method: 'GET',\r\n    credentials: 'include',\r\n  })\r\n  return handleResponse(res)\r\n}\r\n\r\nexport async function apiPost<T = any>(path: string, data: Record<string, any>): Promise<T> {\r\n  const res = await fetch(buildUrl(path), {\r\n    method: 'POST',\r\n    credentials: 'include',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  })\r\n  return handleResponse(res)\r\n}\r\n\r\nexport async function submitApplication(\r\n  form: Record<string, any>,\r\n  requiredDocs: Record<string, File | null>,\r\n  optionalDocs: { title: string; file: File | null }[]\r\n): Promise<any> {\r\n  const formData = new FormData()\r\n\r\n  formData.append('pen_number', form.penNumber)\r\n  formData.append('pfa', form.pfa)\r\n  formData.append('rsa_balance', form.rsaBalance)\r\n  formData.append('bvn', form.bvn)\r\n  formData.append('nin', form.nin)\r\n  formData.append('dob', form.dob)\r\n  formData.append('phone_number', form.phone1)\r\n  formData.append('alt_phone', form.phone2)\r\n  formData.append('alt_email', form.altEmail)\r\n\r\n  Object.entries(requiredDocs).forEach(([title, file]) => {\r\n    if (file) {\r\n      formData.append('documents', file, title)\r\n    }\r\n  })\r\n\r\n  optionalDocs.forEach(({ title, file }) => {\r\n    if (file && title) {\r\n      formData.append('documents', file, `optional:${title}`)\r\n    }\r\n  })\r\n\r\n  const res = await fetch(buildUrl('/api/application/submit'), {\r\n    method: 'POST',\r\n    credentials: 'include',\r\n    body: formData,\r\n  })\r\n  \r\n  return handleResponse(res)\r\n}\r\n\r\nexport async function fetchCurrentUser(): Promise<any> {\r\n  return apiGet('/api/auth/me')\r\n}\r\n\r\nexport async function loginUser(data: {\r\n  pen_number: string\r\n  password: string\r\n}): Promise<any> {\r\n  return apiPost('/api/auth/login', data)\r\n}\r\n\r\nexport async function registerUser(data: {\r\n  first_name: string\r\n  surname: string\r\n  other_names?: string\r\n  email: string\r\n  pen_number: string\r\n  password: string\r\n}): Promise<any> {\r\n  return apiPost('/api/auth/register', data)\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,WAAW;AAEjB,MAAM,WAAW,CAAC,OAAiB,GAAG,WAAW,MAAM;AAEvD,MAAM,iBAAiB,OAAO;IAC5B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC9C,MAAM,IAAI,MAAM,MAAM,KAAK,IAAI;IACjC;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,OAAgB,IAAY;IAChD,MAAM,MAAM,MAAM,MAAM,SAAS,OAAO;QACtC,QAAQ;QACR,aAAa;IACf;IACA,OAAO,eAAe;AACxB;AAEO,eAAe,QAAiB,IAAY,EAAE,IAAyB;IAC5E,MAAM,MAAM,MAAM,MAAM,SAAS,OAAO;QACtC,QAAQ;QACR,aAAa;QACb,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,eAAe;AACxB;AAEO,eAAe,kBACpB,IAAyB,EACzB,YAAyC,EACzC,YAAoD;IAEpD,MAAM,WAAW,IAAI;IAErB,SAAS,MAAM,CAAC,cAAc,KAAK,SAAS;IAC5C,SAAS,MAAM,CAAC,OAAO,KAAK,GAAG;IAC/B,SAAS,MAAM,CAAC,eAAe,KAAK,UAAU;IAC9C,SAAS,MAAM,CAAC,OAAO,KAAK,GAAG;IAC/B,SAAS,MAAM,CAAC,OAAO,KAAK,GAAG;IAC/B,SAAS,MAAM,CAAC,OAAO,KAAK,GAAG;IAC/B,SAAS,MAAM,CAAC,gBAAgB,KAAK,MAAM;IAC3C,SAAS,MAAM,CAAC,aAAa,KAAK,MAAM;IACxC,SAAS,MAAM,CAAC,aAAa,KAAK,QAAQ;IAE1C,OAAO,OAAO,CAAC,cAAc,OAAO,CAAC,CAAC,CAAC,OAAO,KAAK;QACjD,IAAI,MAAM;YACR,SAAS,MAAM,CAAC,aAAa,MAAM;QACrC;IACF;IAEA,aAAa,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;QACnC,IAAI,QAAQ,OAAO;YACjB,SAAS,MAAM,CAAC,aAAa,MAAM,CAAC,SAAS,EAAE,OAAO;QACxD;IACF;IAEA,MAAM,MAAM,MAAM,MAAM,SAAS,4BAA4B;QAC3D,QAAQ;QACR,aAAa;QACb,MAAM;IACR;IAEA,OAAO,eAAe;AACxB;AAEO,eAAe;IACpB,OAAO,OAAO;AAChB;AAEO,eAAe,UAAU,IAG/B;IACC,OAAO,QAAQ,mBAAmB;AACpC;AAEO,eAAe,aAAa,IAOlC;IACC,OAAO,QAAQ,sBAAsB;AACvC","debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pee10/Desktop/New%20Folder%20%283%29/Prime%20Pillars/customer-app/app/%28auth%29/register/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport toast from 'react-hot-toast'\r\nimport { registerUser } from '@/lib/api'\r\n\r\nexport default function RegisterForm() {\r\n  const router = useRouter()\r\n  const [formData, setFormData] = useState({\r\n    first_name: '',\r\n    surname: '',\r\n    other_names: '',\r\n    email: '',\r\n    pen_number: '',\r\n    password: '',\r\n    confirm_password: '',\r\n  })\r\n\r\n  const [penExists, setPenExists] = useState(false)\r\n\r\n  const handleChange = (e: any) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value })\r\n    if (e.target.name === 'pen_number') setPenExists(false)\r\n  }\r\n\r\n  const handleBlur = () => {\r\n    const existingPENs = ['PEN12345', 'PEN67890']\r\n    if (existingPENs.includes(formData.pen_number)) {\r\n      setPenExists(true)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (e: any) => {\r\n    e.preventDefault()\r\n    if (formData.password !== formData.confirm_password) {\r\n      toast.error('Passwords do not match')\r\n      return\r\n    }\r\n    try {\r\n      await registerUser({\r\n        first_name: formData.first_name,\r\n        surname: formData.surname,\r\n        other_names: formData.other_names,\r\n        email: formData.email,\r\n        pen_number: formData.pen_number,\r\n        password: formData.password,\r\n      })\r\n      toast.success('Registration successful')\r\n      router.push('/login')\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Registration failed')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-[500px] mx-auto bg-white p-8 rounded-[10px] shadow-[0_4px_12px_rgba(0,0,0,0.1)] mt-10\">\r\n      <h2 className=\"text-2xl font-semibold text-[#0057A0] text-center mb-6\">User Registration</h2>\r\n      <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n        <div>\r\n          <label className=\"block mb-2 font-semibold\">First Name</label>\r\n          <input type=\"text\" name=\"first_name\" value={formData.first_name} onChange={handleChange} required className=\"w-full p-3 border border-[#ccc] rounded-[6px]\" />\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-2 font-semibold\">Surname</label>\r\n          <input type=\"text\" name=\"surname\" value={formData.surname} onChange={handleChange} required className=\"w-full p-3 border border-[#ccc] rounded-[6px]\" />\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-2 font-semibold\">Other Names (Optional)</label>\r\n          <input type=\"text\" name=\"other_names\" value={formData.other_names} onChange={handleChange} className=\"w-full p-3 border border-[#ccc] rounded-[6px]\" />\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-2 font-semibold\">Email</label>\r\n          <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required className=\"w-full p-3 border border-[#ccc] rounded-[6px]\" />\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-2 font-semibold\">PEN Number</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"pen_number\"\r\n            value={formData.pen_number}\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n            required\r\n            className=\"w-full p-3 border border-[#ccc] rounded-[6px]\"\r\n          />\r\n          {penExists && <small className=\"text-red-600 mt-1 block\">This PEN Number already exists.</small>}\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-2 font-semibold\">Password</label>\r\n          <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required className=\"w-full p-3 border border-[#ccc] rounded-[6px]\" />\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-2 font-semibold\">Confirm Password</label>\r\n          <input type=\"password\" name=\"confirm_password\" value={formData.confirm_password} onChange={handleChange} required className=\"w-full p-3 border border-[#ccc] rounded-[6px]\" />\r\n        </div>\r\n        <button type=\"submit\" className=\"w-full py-3 rounded-[6px] bg-[#0057A0] text-white font-semibold hover:bg-[#004080] transition-colors\">\r\n          Register\r\n        </button>\r\n      </form>\r\n      <p className=\"text-center text-sm text-gray-600 mt-8\">&copy; 2025 Prime Pillars Real Estate</p>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pee10/Desktop/New%20Folder%20%283%29/Prime%20Pillars/customer-app/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}