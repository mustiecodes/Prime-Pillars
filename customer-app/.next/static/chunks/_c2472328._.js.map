{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/components/layout/PageWrapper.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\n\r\ninterface PageWrapperProps {\r\n  title?: string\r\n  children: React.ReactNode\r\n}\r\n\r\nexport default function PageWrapper({ title, children }: PageWrapperProps) {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-5xl mx-auto\">\r\n        {title && <h1 className=\"text-2xl font-bold text-gray-800 mb-6\">{title}</h1>}\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">{children}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AASe,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAoB;IACvE,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;gBACZ,uBAAS,6LAAC;oBAAG,WAAU;8BAAyC;;;;;;8BACjE,6LAAC;oBAAI,WAAU;8BAAkC;;;;;;;;;;;;;;;;;AAIzD;KATwB","debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/components/inputs/FormInput.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\n\r\ninterface FormInputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  label: string\r\n  error?: string\r\n}\r\n\r\nexport default function FormInput({\r\n  label,\r\n  name,\r\n  type = 'text',\r\n  value,\r\n  onChange,\r\n  disabled = false,\r\n  error,\r\n  ...props\r\n}: FormInputProps) {\r\n  return (\r\n    <div>\r\n      <label htmlFor={name} className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n        {label}\r\n      </label>\r\n      <input\r\n        id={name}\r\n        name={name}\r\n        type={type}\r\n        value={value}\r\n        onChange={onChange}\r\n        disabled={disabled}\r\n        className={`w-full p-2 border rounded-lg focus:outline-none focus:ring-2 ${\r\n          error\r\n            ? 'border-red-500 focus:ring-red-300'\r\n            : 'border-gray-300 focus:ring-blue-300'\r\n        }`}\r\n        {...props}\r\n      />\r\n      {error && <p className=\"mt-1 text-sm text-red-500\">{error}</p>}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AASe,SAAS,UAAU,EAChC,KAAK,EACL,IAAI,EACJ,OAAO,MAAM,EACb,KAAK,EACL,QAAQ,EACR,WAAW,KAAK,EAChB,KAAK,EACL,GAAG,OACY;IACf,qBACE,6LAAC;;0BACC,6LAAC;gBAAM,SAAS;gBAAM,WAAU;0BAC7B;;;;;;0BAEH,6LAAC;gBACC,IAAI;gBACJ,MAAM;gBACN,MAAM;gBACN,OAAO;gBACP,UAAU;gBACV,UAAU;gBACV,WAAW,CAAC,6DAA6D,EACvE,QACI,sCACA,uCACJ;gBACD,GAAG,KAAK;;;;;;YAEV,uBAAS,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;KAhCwB","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/components/inputs/FormSelect.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\n\r\ninterface FormSelectProps extends React.SelectHTMLAttributes<HTMLSelectElement> {\r\n  label: string\r\n  name: string\r\n  error?: string\r\n  children: React.ReactNode\r\n}\r\n\r\nexport default function FormSelect({ label, name, error, children, className = '', ...props }: FormSelectProps) {\r\n  return (\r\n    <div className=\"w-full\">\r\n      <label htmlFor={name} className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n        {label}\r\n      </label>\r\n      <select\r\n        id={name}\r\n        name={name}\r\n        className={`w-full p-2 border ${error ? 'border-red-500' : 'border-gray-300'} rounded-md ${className}`}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </select>\r\n      {error && <p className=\"text-sm text-red-600 mt-1\">{error}</p>}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAWe,SAAS,WAAW,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,GAAG,OAAwB;IAC5G,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAM,SAAS;gBAAM,WAAU;0BAC7B;;;;;;0BAEH,6LAAC;gBACC,IAAI;gBACJ,MAAM;gBACN,WAAW,CAAC,kBAAkB,EAAE,QAAQ,mBAAmB,kBAAkB,YAAY,EAAE,WAAW;gBACrG,GAAG,KAAK;0BAER;;;;;;YAEF,uBAAS,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;KAjBwB","debugId":null}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/components/forms/FileUpload.tsx"],"sourcesContent":["'use client'\r\n\r\ntype OptionalDoc = { title: string; file: File | null }\r\n\r\ntype Props = {\r\n  requiredDocs: string[]\r\n  requiredUploads: Record<string, File | null>\r\n  onRequiredChange: (docTitle: string, file: File | null) => void\r\n  optionalDocs: OptionalDoc[]\r\n  onOptionalChange: (index: number, key: 'title' | 'file', value: any) => void\r\n  onAddOptional: () => void\r\n  errors?: {\r\n    required?: Record<string, string>\r\n    optional?: Record<number, string>\r\n  }\r\n}\r\n\r\nexport default function FileUpload({\r\n  requiredDocs,\r\n  requiredUploads,\r\n  onRequiredChange,\r\n  optionalDocs,\r\n  onOptionalChange,\r\n  onAddOptional,\r\n  errors = {},\r\n}: Props) {\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Required Documents */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold mb-2\">Mandatory Documents</h3>\r\n        <div className=\"space-y-4\">\r\n          {requiredDocs.map((doc) => (\r\n            <div key={doc}>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">{doc}</label>\r\n              <input\r\n                type=\"file\"\r\n                required\r\n                className=\"block w-full text-sm border border-gray-300 rounded-lg file:mr-4 file:py-1.5 file:px-4 file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\r\n                onChange={(e) => onRequiredChange(doc, e.target.files?.[0] || null)}\r\n              />\r\n              {requiredUploads[doc] && (\r\n                <p className=\"text-xs text-green-600 mt-1\">✅ {requiredUploads[doc]?.name}</p>\r\n              )}\r\n              {errors.required?.[doc] && (\r\n                <p className=\"text-xs text-red-600 mt-1\">❌ {errors.required[doc]}</p>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Optional Documents */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold mb-2\">Optional Documents</h3>\r\n        <div className=\"space-y-4\">\r\n          {optionalDocs.map((doc, idx) => (\r\n            <div key={idx} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Document Title\"\r\n                  value={doc.title}\r\n                  className=\"w-full border border-gray-300 rounded-md p-2\"\r\n                  onChange={(e) => onOptionalChange(idx, 'title', e.target.value)}\r\n                />\r\n              </div>\r\n              <div>\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"block w-full text-sm border border-gray-300 rounded-lg file:mr-4 file:py-1.5 file:px-4 file:border-0 file:text-sm file:font-medium file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-100\"\r\n                  onChange={(e) => onOptionalChange(idx, 'file', e.target.files?.[0] || null)}\r\n                />\r\n                {doc.file && (\r\n                  <p className=\"text-xs text-green-600 mt-1\">✅ {doc.file.name}</p>\r\n                )}\r\n              </div>\r\n              {errors.optional?.[idx] && (\r\n                <p className=\"text-sm text-red-600 col-span-2\">{errors.optional[idx]}</p>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={onAddOptional}\r\n          className=\"mt-3 text-blue-600 text-sm hover:underline\"\r\n        >\r\n          + Add Another Optional Document\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAiBe,SAAS,WAAW,EACjC,YAAY,EACZ,eAAe,EACf,gBAAgB,EAChB,YAAY,EACZ,gBAAgB,EAChB,aAAa,EACb,SAAS,CAAC,CAAC,EACL;IACN,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,6LAAC;wBAAI,WAAU;kCACZ,aAAa,GAAG,CAAC,CAAC,oBACjB,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAgD;;;;;;kDACjE,6LAAC;wCACC,MAAK;wCACL,QAAQ;wCACR,WAAU;wCACV,UAAU,CAAC,IAAM,iBAAiB,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;;;;;;oCAE/D,eAAe,CAAC,IAAI,kBACnB,6LAAC;wCAAE,WAAU;;4CAA8B;4CAAG,eAAe,CAAC,IAAI,EAAE;;;;;;;oCAErE,OAAO,QAAQ,EAAE,CAAC,IAAI,kBACrB,6LAAC;wCAAE,WAAU;;4CAA4B;4CAAG,OAAO,QAAQ,CAAC,IAAI;;;;;;;;+BAZ1D;;;;;;;;;;;;;;;;0BAoBhB,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,6LAAC;wBAAI,WAAU;kCACZ,aAAa,GAAG,CAAC,CAAC,KAAK,oBACtB,6LAAC;gCAAc,WAAU;;kDACvB,6LAAC;kDACC,cAAA,6LAAC;4CACC,MAAK;4CACL,aAAY;4CACZ,OAAO,IAAI,KAAK;4CAChB,WAAU;4CACV,UAAU,CAAC,IAAM,iBAAiB,KAAK,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;kDAGlE,6LAAC;;0DACC,6LAAC;gDACC,MAAK;gDACL,WAAU;gDACV,UAAU,CAAC,IAAM,iBAAiB,KAAK,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;;;;;;4CAEvE,IAAI,IAAI,kBACP,6LAAC;gDAAE,WAAU;;oDAA8B;oDAAG,IAAI,IAAI,CAAC,IAAI;;;;;;;;;;;;;oCAG9D,OAAO,QAAQ,EAAE,CAAC,IAAI,kBACrB,6LAAC;wCAAE,WAAU;kDAAmC,OAAO,QAAQ,CAAC,IAAI;;;;;;;+BArB9D;;;;;;;;;;kCA2Bd,6LAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;KA7EwB","debugId":null}},
    {"offset": {"line": 370, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/utils/api.ts"],"sourcesContent":["const BASE_URL = 'http://localhost:5000'\r\n\r\nconst buildUrl = (path: string) => `${BASE_URL}${path}`\r\n\r\nconst handleResponse = async (res: Response) => {\r\n  if (!res.ok) {\r\n    const error = await res.json().catch(() => ({}))\r\n    throw new Error(error.error || 'An unexpected error occurred')\r\n  }\r\n  return res.json()\r\n}\r\n\r\nexport async function apiGet<T = any>(path: string): Promise<T> {\r\n  const res = await fetch(buildUrl(path), {\r\n    method: 'GET',\r\n    credentials: 'include',\r\n  })\r\n  return handleResponse(res)\r\n}\r\n\r\nexport async function apiPost<T = any>(path: string, data: Record<string, any>): Promise<T> {\r\n  const res = await fetch(buildUrl(path), {\r\n    method: 'POST',\r\n    credentials: 'include',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  })\r\n  return handleResponse(res)\r\n}\r\n\r\nexport async function submitApplication(\r\n  form: Record<string, any>,\r\n  requiredDocs: Record<string, File | null>,\r\n  optionalDocs: { title: string; file: File | null }[]\r\n): Promise<any> {\r\n  const formData = new FormData()\r\n\r\n  formData.append('pen_number', form.penNumber)\r\n  formData.append('pfa', form.pfa)\r\n  formData.append('rsa_balance', form.rsaBalance)\r\n  formData.append('bvn', form.bvn)\r\n  formData.append('nin', form.nin)\r\n  formData.append('dob', form.dob)\r\n  formData.append('phone_number', form.phone1)\r\n  formData.append('alt_phone', form.phone2)\r\n  formData.append('alt_email', form.altEmail)\r\n\r\n  Object.entries(requiredDocs).forEach(([title, file]) => {\r\n    if (file) {\r\n      formData.append('documents', file, title)\r\n    }\r\n  })\r\n\r\n  optionalDocs.forEach(({ title, file }) => {\r\n    if (file && title) {\r\n      formData.append('documents', file, `optional:${title}`)\r\n    }\r\n  })\r\n\r\n  const res = await fetch(buildUrl('/api/application/submit'), {\r\n    method: 'POST',\r\n    credentials: 'include',\r\n    body: formData,\r\n  })\r\n  \r\n  return handleResponse(res)\r\n}\r\n\r\nexport async function fetchCurrentUser(): Promise<any> {\r\n  return apiGet('/api/auth/me')\r\n}\r\n\r\nexport async function loginUser(data: {\r\n  pen_number: string\r\n  password: string\r\n}): Promise<any> {\r\n  return apiPost('/api/auth/login', data)\r\n}\r\n\r\nexport async function registerUser(data: {\r\n  first_name: string\r\n  surname: string\r\n  other_names?: string\r\n  email: string\r\n  pen_number: string\r\n  password: string\r\n}): Promise<any> {\r\n  return apiPost('/api/auth/register', data)\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,WAAW;AAEjB,MAAM,WAAW,CAAC,OAAiB,GAAG,WAAW,MAAM;AAEvD,MAAM,iBAAiB,OAAO;IAC5B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC9C,MAAM,IAAI,MAAM,MAAM,KAAK,IAAI;IACjC;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,OAAgB,IAAY;IAChD,MAAM,MAAM,MAAM,MAAM,SAAS,OAAO;QACtC,QAAQ;QACR,aAAa;IACf;IACA,OAAO,eAAe;AACxB;AAEO,eAAe,QAAiB,IAAY,EAAE,IAAyB;IAC5E,MAAM,MAAM,MAAM,MAAM,SAAS,OAAO;QACtC,QAAQ;QACR,aAAa;QACb,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,eAAe;AACxB;AAEO,eAAe,kBACpB,IAAyB,EACzB,YAAyC,EACzC,YAAoD;IAEpD,MAAM,WAAW,IAAI;IAErB,SAAS,MAAM,CAAC,cAAc,KAAK,SAAS;IAC5C,SAAS,MAAM,CAAC,OAAO,KAAK,GAAG;IAC/B,SAAS,MAAM,CAAC,eAAe,KAAK,UAAU;IAC9C,SAAS,MAAM,CAAC,OAAO,KAAK,GAAG;IAC/B,SAAS,MAAM,CAAC,OAAO,KAAK,GAAG;IAC/B,SAAS,MAAM,CAAC,OAAO,KAAK,GAAG;IAC/B,SAAS,MAAM,CAAC,gBAAgB,KAAK,MAAM;IAC3C,SAAS,MAAM,CAAC,aAAa,KAAK,MAAM;IACxC,SAAS,MAAM,CAAC,aAAa,KAAK,QAAQ;IAE1C,OAAO,OAAO,CAAC,cAAc,OAAO,CAAC,CAAC,CAAC,OAAO,KAAK;QACjD,IAAI,MAAM;YACR,SAAS,MAAM,CAAC,aAAa,MAAM;QACrC;IACF;IAEA,aAAa,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;QACnC,IAAI,QAAQ,OAAO;YACjB,SAAS,MAAM,CAAC,aAAa,MAAM,CAAC,SAAS,EAAE,OAAO;QACxD;IACF;IAEA,MAAM,MAAM,MAAM,MAAM,SAAS,4BAA4B;QAC3D,QAAQ;QACR,aAAa;QACb,MAAM;IACR;IAEA,OAAO,eAAe;AACxB;AAEO,eAAe;IACpB,OAAO,OAAO;AAChB;AAEO,eAAe,UAAU,IAG/B;IACC,OAAO,QAAQ,mBAAmB;AACpC;AAEO,eAAe,aAAa,IAOlC;IACC,OAAO,QAAQ,sBAAsB;AACvC","debugId":null}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/utils/validators.ts"],"sourcesContent":["/**\r\n * Checks if a password is strong enough:\r\n * - Minimum 8 characters\r\n * - At least one uppercase letter\r\n * - At least one lowercase letter\r\n * - At least one digit\r\n * - At least one special character\r\n */\r\nexport function validatePassword(password: string): boolean {\r\n  const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@#$%^&+=!]).{8,}$/\r\n  return regex.test(password)\r\n}\r\n\r\n/**\r\n * Validates login form data.\r\n */\r\nexport function loginValidator(data: { pen_number: string; password: string }) {\r\n  const errors: Record<string, string> = {}\r\n\r\n  if (!data.pen_number) {\r\n    errors.pen_number = 'PEN number is required'\r\n  }\r\n\r\n  if (!data.password) {\r\n    errors.password = 'Password is required'\r\n  }\r\n\r\n  return errors\r\n}\r\n\r\n/**\r\n * Validates registration form data.\r\n */\r\nexport function registerValidator(data: {\r\n  first_name: string\r\n  surname: string\r\n  email: string\r\n  pen_number: string\r\n  password: string\r\n  confirm_password: string\r\n}) {\r\n  const errors: Record<string, string> = {}\r\n\r\n  if (!data.first_name) {\r\n    errors.first_name = 'First name is required'\r\n  }\r\n\r\n  if (!data.surname) {\r\n    errors.surname = 'Surname is required'\r\n  }\r\n\r\n  if (!data.email) {\r\n    errors.email = 'Email is required'\r\n  }\r\n\r\n  if (!data.pen_number) {\r\n    errors.pen_number = 'PEN number is required'\r\n  }\r\n\r\n  if (!data.password) {\r\n    errors.password = 'Password is required'\r\n  } else if (!validatePassword(data.password)) {\r\n    errors.password = 'Password must include uppercase, lowercase, number, and symbol'\r\n  }\r\n\r\n  if (data.password !== data.confirm_password) {\r\n    errors.confirm_password = 'Passwords do not match'\r\n  }\r\n\r\n  return errors\r\n}\r\n\r\n/**\r\n * Validates client application form fields.\r\n */\r\nexport function validateClientApplicationForm(data: {\r\n  rsaBalance: string\r\n  bvn: string\r\n  nin: string\r\n  dob: string\r\n  phone1: string\r\n  altEmail?: string\r\n}) {\r\n  const errors: Record<string, string> = {}\r\n\r\n  if (!data.rsaBalance) errors.rsaBalance = 'RSA balance is required'\r\n  if (!data.bvn) errors.bvn = 'BVN is required'\r\n  if (!data.nin) errors.nin = 'NIN is required'\r\n  if (!data.dob) errors.dob = 'Date of Birth is required'\r\n  if (!data.phone1) errors.phone1 = 'Phone number is required'\r\n\r\n  return errors\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;;;AACM,SAAS,iBAAiB,QAAgB;IAC/C,MAAM,QAAQ;IACd,OAAO,MAAM,IAAI,CAAC;AACpB;AAKO,SAAS,eAAe,IAA8C;IAC3E,MAAM,SAAiC,CAAC;IAExC,IAAI,CAAC,KAAK,UAAU,EAAE;QACpB,OAAO,UAAU,GAAG;IACtB;IAEA,IAAI,CAAC,KAAK,QAAQ,EAAE;QAClB,OAAO,QAAQ,GAAG;IACpB;IAEA,OAAO;AACT;AAKO,SAAS,kBAAkB,IAOjC;IACC,MAAM,SAAiC,CAAC;IAExC,IAAI,CAAC,KAAK,UAAU,EAAE;QACpB,OAAO,UAAU,GAAG;IACtB;IAEA,IAAI,CAAC,KAAK,OAAO,EAAE;QACjB,OAAO,OAAO,GAAG;IACnB;IAEA,IAAI,CAAC,KAAK,KAAK,EAAE;QACf,OAAO,KAAK,GAAG;IACjB;IAEA,IAAI,CAAC,KAAK,UAAU,EAAE;QACpB,OAAO,UAAU,GAAG;IACtB;IAEA,IAAI,CAAC,KAAK,QAAQ,EAAE;QAClB,OAAO,QAAQ,GAAG;IACpB,OAAO,IAAI,CAAC,iBAAiB,KAAK,QAAQ,GAAG;QAC3C,OAAO,QAAQ,GAAG;IACpB;IAEA,IAAI,KAAK,QAAQ,KAAK,KAAK,gBAAgB,EAAE;QAC3C,OAAO,gBAAgB,GAAG;IAC5B;IAEA,OAAO;AACT;AAKO,SAAS,8BAA8B,IAO7C;IACC,MAAM,SAAiC,CAAC;IAExC,IAAI,CAAC,KAAK,UAAU,EAAE,OAAO,UAAU,GAAG;IAC1C,IAAI,CAAC,KAAK,GAAG,EAAE,OAAO,GAAG,GAAG;IAC5B,IAAI,CAAC,KAAK,GAAG,EAAE,OAAO,GAAG,GAAG;IAC5B,IAAI,CAAC,KAAK,GAAG,EAAE,OAAO,GAAG,GAAG;IAC5B,IAAI,CAAC,KAAK,MAAM,EAAE,OAAO,MAAM,GAAG;IAElC,OAAO;AACT","debugId":null}},
    {"offset": {"line": 520, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/components/forms/ClientApplicationForm.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport FormInput from '@/components/inputs/FormInput'\r\nimport FormSelect from '@/components/inputs/FormSelect'\r\nimport FileUpload from '@/components/forms/FileUpload'\r\nimport { submitApplication } from '@/utils/api'\r\nimport { validateClientApplicationForm } from '@/utils/validators'\r\n\r\nconst REQUIRED_DOCS = [\r\n  'Account Opening Form',\r\n  'NIN Slip',\r\n  'Undertaken Form',\r\n  'Consent Form',\r\n  'Indemnity Form',\r\n  'Application Letter',\r\n]\r\n\r\ntype Props = {\r\n  initialData: any\r\n}\r\n\r\nexport default function ClientApplicationForm({ initialData }: Props) {\r\n  const [form, setForm] = useState({\r\n    penNumber: '',\r\n    firstName: '',\r\n    surname: '',\r\n    otherNames: '',\r\n    email: '',\r\n    pfa: '',\r\n    rsaBalance: '',\r\n    bvn: '',\r\n    nin: '',\r\n    dob: '',\r\n    phone1: '',\r\n    phone2: '',\r\n    altEmail: '',\r\n  })\r\n\r\n  const [errors, setErrors] = useState<Record<string, string>>({})\r\n  const [requiredDocs, setRequiredDocs] = useState<Record<string, File | null>>({})\r\n  const [optionalDocs, setOptionalDocs] = useState([{ title: '', file: null as File | null }])\r\n  const [pfaOptions, setPfaOptions] = useState<string[]>([])\r\n  const [message, setMessage] = useState('')\r\n  const [submitting, setSubmitting] = useState(false)\r\n\r\n  // Prefill form with user data\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setForm((prev) => ({\r\n        ...prev,\r\n        penNumber: initialData.pen_number || '',\r\n        firstName: initialData.first_name || '',\r\n        surname: initialData.surname || '',\r\n        otherNames: initialData.other_names || '',\r\n        email: initialData.email || '',\r\n        pfa: initialData.pfa || '',\r\n        rsaBalance: initialData.rsa_balance || '',\r\n        bvn: initialData.bvn || '',\r\n        nin: initialData.nin || '',\r\n        dob: initialData.dob || '',\r\n        phone1: initialData.phone_number || '',\r\n        phone2: initialData.alt_phone || '',\r\n        altEmail: initialData.alt_email || '',\r\n      }))\r\n    }\r\n  }, [initialData])\r\n\r\n  // Fetch PFA options\r\n  useEffect(() => {\r\n    const fetchPFAs = async () => {\r\n      try {\r\n        const res = await fetch('http://localhost:5000/api/admin/pfa')\r\n        const data = await res.json()\r\n        setPfaOptions(data.map((p: { name: string }) => p.name))\r\n      } catch {\r\n        console.error('Failed to fetch PFAs')\r\n      }\r\n    }\r\n\r\n    fetchPFAs()\r\n  }, [])\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target\r\n    setForm((prev) => ({ ...prev, [name]: value }))\r\n  }\r\n\r\n  const handleRequiredDocUpload = (docTitle: string, file: File | null) => {\r\n    setRequiredDocs((prev) => ({ ...prev, [docTitle]: file }))\r\n  }\r\n\r\n  const handleOptionalDocChange = (index: number, key: 'title' | 'file', value: any) => {\r\n    setOptionalDocs((prev) => {\r\n      const updated = [...prev]\r\n      updated[index][key] = value\r\n      return updated\r\n    })\r\n  }\r\n\r\n  const addOptionalDoc = () => {\r\n    setOptionalDocs((prev) => [...prev, { title: '', file: null }])\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    setSubmitting(true)\r\n    setMessage('')\r\n    setErrors({})\r\n\r\n    const validationErrors = validateClientApplicationForm({\r\n      rsaBalance: form.rsaBalance,\r\n      bvn: form.bvn,\r\n      nin: form.nin,\r\n      dob: form.dob,\r\n      phone1: form.phone1,\r\n    })\r\n\r\n    if (Object.keys(validationErrors).length > 0) {\r\n      setErrors(validationErrors)\r\n      setSubmitting(false)\r\n      return\r\n    }\r\n\r\n    try {\r\n      await submitApplication(form, requiredDocs, optionalDocs)\r\n      setMessage('✅ Application submitted successfully!')\r\n    } catch {\r\n      setMessage('❌ Could not submit application.')\r\n    } finally {\r\n      setSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto bg-white shadow rounded-lg p-6\">\r\n      <h2 className=\"text-2xl font-semibold mb-4\">Apply for Housing</h2>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <FormInput label=\"PEN Number\" name=\"penNumber\" value={form.penNumber} disabled />\r\n        <FormInput label=\"First Name\" name=\"firstName\" value={form.firstName} disabled />\r\n        <FormInput label=\"Surname\" name=\"surname\" value={form.surname} disabled />\r\n        <FormInput label=\"Other Names (Optional)\" name=\"otherNames\" value={form.otherNames} disabled />\r\n        <FormInput label=\"Email\" name=\"email\" value={form.email} disabled />\r\n\r\n        <FormSelect label=\"PFA\" name=\"pfa\" value={form.pfa} onChange={handleChange}>\r\n          <option value=\"\">-- Select PFA --</option>\r\n          {pfaOptions.map((pfa) => (\r\n            <option key={pfa} value={pfa}>\r\n              {pfa}\r\n            </option>\r\n          ))}\r\n        </FormSelect>\r\n\r\n        <FormInput\r\n          label=\"RSA Balance\"\r\n          name=\"rsaBalance\"\r\n          type=\"number\"\r\n          value={form.rsaBalance}\r\n          onChange={handleChange}\r\n          error={errors.rsaBalance}\r\n        />\r\n        <FormInput label=\"BVN\" name=\"bvn\" value={form.bvn} onChange={handleChange} error={errors.bvn} />\r\n        <FormInput label=\"NIN\" name=\"nin\" value={form.nin} onChange={handleChange} error={errors.nin} />\r\n        <FormInput\r\n          label=\"Date of Birth\"\r\n          name=\"dob\"\r\n          type=\"date\"\r\n          value={form.dob}\r\n          onChange={handleChange}\r\n          error={errors.dob}\r\n        />\r\n        <FormInput\r\n          label=\"Phone Number\"\r\n          name=\"phone1\"\r\n          value={form.phone1}\r\n          onChange={handleChange}\r\n          error={errors.phone1}\r\n        />\r\n        <FormInput label=\"Alt Phone Number\" name=\"phone2\" value={form.phone2} onChange={handleChange} />\r\n        <FormInput\r\n          label=\"Alt Email\"\r\n          name=\"altEmail\"\r\n          type=\"email\"\r\n          value={form.altEmail}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <hr className=\"my-6\" />\r\n\r\n      <FileUpload\r\n        requiredDocs={REQUIRED_DOCS}\r\n        requiredUploads={requiredDocs}\r\n        onRequiredChange={handleRequiredDocUpload}\r\n        optionalDocs={optionalDocs}\r\n        onOptionalChange={handleOptionalDocChange}\r\n        onAddOptional={addOptionalDoc}\r\n      />\r\n\r\n      <button\r\n        onClick={handleSubmit}\r\n        disabled={submitting}\r\n        className={`w-full py-2 mt-6 rounded-lg text-white ${\r\n          submitting ? 'bg-gray-400' : 'bg-blue-600 hover:bg-blue-700'\r\n        }`}\r\n      >\r\n        {submitting ? 'Submitting...' : 'Submit Application'}\r\n      </button>\r\n\r\n      {message && <p className=\"mt-4 text-sm text-gray-700\">{message}</p>}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 910, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/app/%28client%29/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport PageWrapper from '@/components/layout/PageWrapper'\nimport ClientApplicationForm from '@/components/forms/ClientApplicationForm'\nimport { apiGet } from '@/utils/api'\n\nexport default function ApplyPage() {\n  const [initialData, setInitialData] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const user = await apiGet('/api/auth/me')\n        if (user.role !== 'client') {\n          window.location.href = '/'\n          return\n        }\n        setInitialData(user)\n      } catch {\n        window.location.href = '/login'\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchUser()\n  }, [])\n\n  return (\n    <PageWrapper>\n      {loading ? (\n        <p className=\"text-center text-gray-600\">Loading...</p>\n      ) : (\n        <ClientApplicationForm initialData={initialData} />\n      )}\n    </PageWrapper>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAO;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,MAAM;iDAAY;oBAChB,IAAI;wBACF,MAAM,OAAO,MAAM,CAAA,GAAA,+GAAA,CAAA,SAAM,AAAD,EAAE;wBAC1B,IAAI,KAAK,IAAI,KAAK,UAAU;4BAC1B,OAAO,QAAQ,CAAC,IAAI,GAAG;4BACvB;wBACF;wBACA,eAAe;oBACjB,EAAE,OAAM;wBACN,OAAO,QAAQ,CAAC,IAAI,GAAG;oBACzB,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;8BAAG,EAAE;IAEL,qBACE,6LAAC,uIAAA,CAAA,UAAW;kBACT,wBACC,6LAAC;YAAE,WAAU;sBAA4B;;;;;iCAEzC,6LAAC,gJAAA,CAAA,UAAqB;YAAC,aAAa;;;;;;;;;;;AAI5C;GAhCwB;KAAA","debugId":null}}]
}