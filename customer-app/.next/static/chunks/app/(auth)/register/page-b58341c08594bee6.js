(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{1705:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var r=a(5155),s=a(2115),n=a(5695),o=a(6874),l=a.n(o),i=a(3568),c=a(1886),d=a(4003),m=a(1759),u=a(1728);function p(){let e=(0,n.useRouter)(),[t,a]=(0,s.useState)(!1),[o,p]=(0,s.useState)({first_name:"",surname:"",other_names:"",email:"",pen_number:"",password:"",confirm_password:""}),[h,x]=(0,s.useState)({}),f=async t=>{if(o.password!==o.confirm_password)return void i.Ay.error("Passwords do not match");try{await (0,c.DY)({first_name:o.first_name,surname:o.surname,other_names:o.other_names,email:o.email,pen_number:t,password:o.password}),i.Ay.success("Registration successful"),e.push("/login")}catch(e){i.Ay.error(e.message||"Registration failed")}};return(0,r.jsx)(d.A,{children:(0,r.jsxs)(m.A,{title:"User Registration",children:[(0,r.jsx)(u.A,{type:"register",formData:o,onChange:e=>{p({...o,[e.target.name]:e.target.value}),x(t=>({...t,[e.target.name]:""})),"pen_number"===e.target.name&&a(!1)},onSubmit:f,errors:h}),t&&(0,r.jsx)("p",{className:"text-red-600 text-xs mt-2",children:"This PEN Number already exists."}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",(0,r.jsx)(l(),{href:"/login",className:"text-blue-600 hover:underline",children:"Login"})]}),(0,r.jsx)("p",{className:"text-center text-sm text-gray-600 mt-8",children:"\xa9 2025 Prime Pillars Real Estate"})]})})}},1728:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155),s=a(2115),n=a(3743),o=a(3568);let l=e=>{let{type:t="login",formData:a,onChange:l,onSubmit:i,errors:c}=e,d="register"===t,m=e=>{let t=/[a-zA-Z]/.test(e),a=/\d/.test(e);return e.length>=8&&t&&a},[u,p]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{p(m(a.password||""))},[a.password]),(0,r.jsxs)("form",{onSubmit:e=>{var t;if(e.preventDefault(),!u)return void o.Ay.error("Password must be at least 8 characters and contain both letters and numbers");if(d&&a.password!==a.confirm_password)return void o.Ay.error("Passwords do not match");let r=(null==(t=a.pen_number)?void 0:t.replace(/\D/g,""))||"";i("PEN".concat(r))},className:"space-y-4",children:[(0,r.jsx)(n.A,{label:"PEN Number",name:"pen_number",value:a.pen_number||"",onChange:e=>{/^\d*$/.test(e.target.value)&&l(e)},error:c.pen_number}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{label:"First Name",name:"first_name",value:a.first_name||"",onChange:l,error:c.first_name}),(0,r.jsx)(n.A,{label:"Surname",name:"surname",value:a.surname||"",onChange:l,error:c.surname}),(0,r.jsx)(n.A,{label:"Other Names (Optional)",name:"other_names",value:a.other_names||"",onChange:l}),(0,r.jsx)(n.A,{label:"Email",name:"email",type:"email",value:a.email||"",onChange:l,error:c.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.A,{label:"Password",name:"password",type:"password",value:a.password||"",onChange:l,error:c.password}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 8 characters, contain letters and numbers."})]}),d&&(0,r.jsx)(n.A,{label:"Confirm Password",name:"confirm_password",type:"password",value:a.confirm_password||"",onChange:l,error:c.confirm_password}),(0,r.jsx)("button",{type:"submit",disabled:!u,className:"w-full py-2 rounded transition ".concat(u?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:d?"Register":"Login"})]})}},1759:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(5155);function s(e){let{title:t,subtitle:a,children:s,className:n=""}=e;return(0,r.jsx)("div",{className:"min-h-screen flex flex-col",children:(0,r.jsx)("section",{className:"flex flex-1 justify-center items-center bg-[#f0f2f5] px-4",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-xl w-full flex gap-8 ".concat(n),children:[(0,r.jsx)("div",{className:"w-2/5 flex justify-center items-center",children:(0,r.jsx)("img",{src:"https://via.placeholder.com/100x100.png?text=Logo",alt:"Logo",className:"max-w-[100px]"})}),(0,r.jsxs)("div",{className:"w-3/5 flex flex-col",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-[#0057A0] mb-2",children:t}),a&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:a}),(0,r.jsx)("div",{className:"flex-1 flex flex-col justify-between",children:s})]})]})})})}a(2115)},1886:(e,t,a)=>{"use strict";a.d(t,{DY:()=>c,Lx:()=>i,Rg:()=>l,Vg:()=>n});let r=e=>"".concat("http://localhost:5000").concat(e),s=async e=>{if(!e.ok)throw Error((await e.json().catch(()=>({}))).error||"An unexpected error occurred");return e.json()};async function n(e){return s(await fetch(r(e),{method:"GET",credentials:"include"}))}async function o(e,t){return s(await fetch(r(e),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function l(e,t,a,n){let o=new FormData;return o.append("pen_number",e.penNumber),o.append("pfa",e.pfa),o.append("rsa_balance",e.rsaBalance),o.append("bvn",e.bvn),o.append("nin",e.nin),o.append("dob",e.dob),o.append("phone_number",e.phone1),o.append("alt_phone",e.phone2),o.append("alt_email",e.altEmail),Object.entries(t).forEach(e=>{let[t,a]=e;a&&o.append("documents",a,t)}),a.forEach(e=>{let{title:t,file:a}=e;a&&t&&o.append("documents",a,"optional:".concat(t))}),n&&o.append("passport",n),s(await fetch(r("/api/application/submit"),{method:"POST",credentials:"include",body:o}))}async function i(e){return o("/api/auth/login",e)}async function c(e){return o("/api/auth/register",e)}},3743:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155),s=a(2115);let n=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}),o=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});function l(e){let{label:t,name:a,type:l="text",value:i,onChange:c,error:d,disabled:m=!1,required:u=!1,...p}=e,[h,x]=(0,s.useState)(!1),f="password"===l,b="input-".concat(a);return(0,r.jsxs)("div",{className:"space-y-1 relative",children:[(0,r.jsxs)("label",{htmlFor:b,className:"block font-semibold text-gray-800 text-sm",children:[t," ",u&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:b,name:a,type:f&&h?"text":l,value:i,disabled:m,onChange:c,"aria-invalid":!!d,className:"w-full px-3 py-2 pr-10 rounded-md border text-sm focus:outline-none ".concat(d?"border-red-500 focus:ring-red-300":"border-gray-300 focus:border-[#0057A0]"," ").concat(m?"bg-gray-100 cursor-not-allowed":"bg-white"),...p}),f&&(0,r.jsx)("button",{type:"button",onClick:()=>x(e=>!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-800",tabIndex:-1,children:h?(0,r.jsx)(n,{className:"h-5 w-5"}):(0,r.jsx)(o,{className:"h-5 w-5"})})]}),d&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:d})]})}},4003:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(5155);function s(e){let{title:t,children:a,className:s="",contentClassName:n=""}=e;return(0,r.jsx)("div",{className:"max-w-4xl mx-auto mt-10 ",children:(0,r.jsx)("div",{className:"space-y-6 ".concat(n),children:a})})}a(2115)},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},6101:(e,t,a)=>{Promise.resolve().then(a.bind(a,1705))}},e=>{var t=t=>e(e.s=t);e.O(0,[193,441,684,358],()=>t(6101)),_N_E=e.O()}]);