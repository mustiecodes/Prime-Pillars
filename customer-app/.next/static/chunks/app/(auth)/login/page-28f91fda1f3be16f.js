(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{1728:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(5155),n=a(2115),s=a(3743),l=a(3568);let o=e=>{let{type:t="login",formData:a,onChange:o,onSubmit:i,errors:c}=e,d="register"===t,u=e=>{let t=/[a-zA-Z]/.test(e),a=/\d/.test(e);return e.length>=8&&t&&a},[m,p]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{p(u(a.password||""))},[a.password]),(0,r.jsxs)("form",{onSubmit:e=>{var t;if(e.preventDefault(),!m)return void l.Ay.error("Password must be at least 8 characters and contain both letters and numbers");if(d&&a.password!==a.confirm_password)return void l.Ay.error("Passwords do not match");let r=(null==(t=a.pen_number)?void 0:t.replace(/\D/g,""))||"";i("PEN".concat(r))},className:"space-y-4",children:[(0,r.jsx)(s.A,{label:"PEN Number",name:"pen_number",value:a.pen_number||"",onChange:e=>{/^\d*$/.test(e.target.value)&&o(e)},error:c.pen_number}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{label:"First Name",name:"first_name",value:a.first_name||"",onChange:o,error:c.first_name}),(0,r.jsx)(s.A,{label:"Surname",name:"surname",value:a.surname||"",onChange:o,error:c.surname}),(0,r.jsx)(s.A,{label:"Other Names (Optional)",name:"other_names",value:a.other_names||"",onChange:o}),(0,r.jsx)(s.A,{label:"Email",name:"email",type:"email",value:a.email||"",onChange:o,error:c.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.A,{label:"Password",name:"password",type:"password",value:a.password||"",onChange:o,error:c.password}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 8 characters, contain letters and numbers."})]}),d&&(0,r.jsx)(s.A,{label:"Confirm Password",name:"confirm_password",type:"password",value:a.confirm_password||"",onChange:o,error:c.confirm_password}),(0,r.jsx)("button",{type:"submit",disabled:!m,className:"w-full py-2 rounded transition ".concat(m?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:d?"Register":"Login"})]})}},1759:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(5155);function n(e){let{title:t,subtitle:a,children:n,className:s=""}=e;return(0,r.jsx)("div",{className:"min-h-screen flex flex-col",children:(0,r.jsx)("section",{className:"flex flex-1 justify-center items-center bg-[#f0f2f5] px-4",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-xl w-full flex gap-8 ".concat(s),children:[(0,r.jsx)("div",{className:"w-2/5 flex justify-center items-center",children:(0,r.jsx)("img",{src:"https://via.placeholder.com/100x100.png?text=Logo",alt:"Logo",className:"max-w-[100px]"})}),(0,r.jsxs)("div",{className:"w-3/5 flex flex-col",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-[#0057A0] mb-2",children:t}),a&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:a}),(0,r.jsx)("div",{className:"flex-1 flex flex-col justify-between",children:n})]})]})})})}a(2115)},1886:(e,t,a)=>{"use strict";a.d(t,{DY:()=>c,Lx:()=>i,Rg:()=>o,Vg:()=>s});let r=e=>"".concat("http://localhost:5000").concat(e),n=async e=>{if(!e.ok)throw Error((await e.json().catch(()=>({}))).error||"An unexpected error occurred");return e.json()};async function s(e){return n(await fetch(r(e),{method:"GET",credentials:"include"}))}async function l(e,t){return n(await fetch(r(e),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}async function o(e,t,a,s){let l=new FormData;return l.append("pen_number",e.penNumber),l.append("pfa",e.pfa),l.append("rsa_balance",e.rsaBalance),l.append("bvn",e.bvn),l.append("nin",e.nin),l.append("dob",e.dob),l.append("phone_number",e.phone1),l.append("alt_phone",e.phone2),l.append("alt_email",e.altEmail),Object.entries(t).forEach(e=>{let[t,a]=e;a&&l.append("documents",a,t)}),a.forEach(e=>{let{title:t,file:a}=e;a&&t&&l.append("documents",a,"optional:".concat(t))}),s&&l.append("passport",s),n(await fetch(r("/api/application/submit"),{method:"POST",credentials:"include",body:l}))}async function i(e){return l("/api/auth/login",e)}async function c(e){return l("/api/auth/register",e)}},3743:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(5155),n=a(2115);let s=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}),l=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});function o(e){let{label:t,name:a,type:o="text",value:i,onChange:c,error:d,disabled:u=!1,required:m=!1,...p}=e,[h,x]=(0,n.useState)(!1),b="password"===o,f="input-".concat(a);return(0,r.jsxs)("div",{className:"space-y-1 relative",children:[(0,r.jsxs)("label",{htmlFor:f,className:"block font-semibold text-gray-800 text-sm",children:[t," ",m&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:f,name:a,type:b&&h?"text":o,value:i,disabled:u,onChange:c,"aria-invalid":!!d,className:"w-full px-3 py-2 pr-10 rounded-md border text-sm focus:outline-none ".concat(d?"border-red-500 focus:ring-red-300":"border-gray-300 focus:border-[#0057A0]"," ").concat(u?"bg-gray-100 cursor-not-allowed":"bg-white"),...p}),b&&(0,r.jsx)("button",{type:"button",onClick:()=>x(e=>!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-800",tabIndex:-1,children:h?(0,r.jsx)(s,{className:"h-5 w-5"}):(0,r.jsx)(l,{className:"h-5 w-5"})})]}),d&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:d})]})}},4003:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(5155);function n(e){let{title:t,children:a,className:n="",contentClassName:s=""}=e;return(0,r.jsx)("div",{className:"max-w-4xl mx-auto mt-10 ",children:(0,r.jsx)("div",{className:"space-y-6 ".concat(s),children:a})})}a(2115)},4669:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(5155),n=a(2115),s=a(5695),l=a(6874),o=a.n(l),i=a(3568),c=a(4003),d=a(1759),u=a(1728),m=a(9913),p=a(1886),h=a(6586);function x(){let e=(0,s.useRouter)(),{user:t,refreshUser:a}=(0,h.A)(),[l,x]=(0,n.useState)({pen_number:"",password:""}),[b,f]=(0,n.useState)({});(0,n.useEffect)(()=>{t&&e.push("/")},[t,e]);let g=async t=>{let r=(0,m.ew)({...l,pen_number:t});if(Object.keys(r).length>0)return void f(r);try{await (0,p.Lx)({...l,pen_number:t}),await a(),i.Ay.success("Login successful"),e.push("/")}catch(e){i.Ay.error(e.message||"Invalid credentials")}};return(0,r.jsx)(c.A,{children:(0,r.jsxs)(d.A,{title:"Login",children:[(0,r.jsx)(u.A,{type:"login",formData:l,onChange:e=>{x({...l,[e.target.name]:e.target.value}),f(t=>({...t,[e.target.name]:""}))},onSubmit:g,errors:b}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(o(),{href:"/register",className:"text-blue-600 hover:underline",children:"Register"})]}),(0,r.jsx)("p",{className:"text-center text-sm text-gray-600 mt-8",children:"\xa9 2025 Prime Pillars Real Estate"})]})})}},6586:(e,t,a)=>{"use strict";a.d(t,{AuthProvider:()=>o,A:()=>i});var r=a(5155),n=a(2115);let s=a(3464).A.create({baseURL:"http://localhost:5000/api",withCredentials:!0}),l=(0,n.createContext)(void 0),o=e=>{let{children:t}=e,[a,o]=(0,n.useState)(null),[i,c]=(0,n.useState)(!0),d=(0,n.useCallback)(async()=>{try{let e=await s.get("/auth/me");o(e.data)}catch(e){o(null)}finally{c(!1)}},[]);return(0,n.useEffect)(()=>{d()},[d]),(0,r.jsx)(l.Provider,{value:{user:a,loading:i,refreshUser:d},children:t})},i=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9519:(e,t,a)=>{Promise.resolve().then(a.bind(a,4669))},9913:(e,t,a)=>{"use strict";function r(e){let t={};return e.pen_number||(t.pen_number="PEN number is required"),e.password||(t.password="Password is required"),t}function n(e){let t={};return e.rsaBalance||(t.rsaBalance="RSA balance is required"),e.bvn?12!==e.bvn.length&&(t.bvn="BVN must be exactly 12 digits"):t.bvn="BVN is required",e.nin?12!==e.nin.length&&(t.nin="NIN must be exactly 12 digits"):t.nin="NIN is required",e.dob||(t.dob="Date of Birth is required"),e.phone1?11!==e.phone1.length&&(t.phone1="Phone number must be exactly 12 digits"):t.phone1="Phone number is required",t}a.d(t,{Q2:()=>n,ew:()=>r})}},e=>{var t=t=>e(e.s=t);e.O(0,[794,193,441,684,358],()=>t(9519)),_N_E=e.O()}]);