{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pee10/Desktop/New%20Folder%20%283%29/Prime%20Pillars/customer-app/lib/axios.ts"],"sourcesContent":["// lib/axios.ts\r\nimport axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'http://localhost:5000/api', // Your Flask backend\r\n  withCredentials: true,\r\n})\r\n\r\nexport default instance\r\n"],"names":[],"mappings":"AAAA,eAAe;;;;AACf;;AAEA,MAAM,WAAW,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC5B,SAAS;IACT,iBAAiB;AACnB;uCAEe","debugId":null}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pee10/Desktop/New%20Folder%20%283%29/Prime%20Pillars/customer-app/context/AuthProvider.tsx"],"sourcesContent":["'use client'\r\n\r\nimport {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n  ReactNode,\r\n  useCallback,\r\n} from 'react'\r\nimport axios from '@/lib/axios'\r\n\r\ntype User = {\r\n  id: number\r\n  first_name: string\r\n  surname: string\r\n  other_names?: string\r\n  email: string\r\n  pen_number: string\r\n  is_verified: boolean\r\n  role?: string // Optional for now\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null\r\n  loading: boolean\r\n  refreshUser: () => void\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const refreshUser = useCallback(async () => {\r\n    try {\r\n      const res = await axios.get<User>('/auth/me')\r\n      setUser(res.data)\r\n    } catch (err) {\r\n      setUser(null)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    refreshUser()\r\n  }, [refreshUser])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, loading, refreshUser }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext)\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider')\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAQA;AAVA;;;;AA6BA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC9B,IAAI;YACF,MAAM,MAAM,MAAM,4GAAA,CAAA,UAAK,CAAC,GAAG,CAAO;YAClC,QAAQ,IAAI,IAAI;QAClB,EAAE,OAAO,KAAK;YACZ,QAAQ;QACV,SAAU;YACR,WAAW;QACb;IACF,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG;QAAC;KAAY;IAEhB,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;QAAY;kBACvD;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pee10/Desktop/New%20Folder%20%283%29/Prime%20Pillars/customer-app/components/common/Header.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useAuth } from '@/context/AuthProvider'\r\n\r\nexport default function Header() {\r\n  const router = useRouter()\r\n  const { user, refreshUser } = useAuth()\r\n\r\n  const handleLogout = async () => {\r\n    await fetch('http://localhost:5000/api/auth/logout', { method: 'POST', credentials: 'include' })\r\n    await refreshUser()\r\n    router.push('/login')\r\n  }\r\n\r\n  return (\r\n    <header className=\"bg-gradient-to-r from-[#0057A0] to-[#C8102E] text-white px-8 py-6 flex justify-between items-center\">\r\n      <h1 className=\"text-2xl font-bold\">Prime Pillars</h1>\r\n      <nav className=\"flex items-center gap-4 font-semibold\">\r\n        <Link href=\"/faqs\" className=\"hover:underline\">FAQs</Link>\r\n        <Link href=\"/downloadable-forms\" className=\"hover:underline\">Downloadable Forms</Link>\r\n        <Link href=\"/contact-us\" className=\"hover:underline\">Contact Us</Link>\r\n\r\n        {!user && (\r\n          <div className=\"flex gap-2\">\r\n            <Link\r\n              href=\"/login\"\r\n              className=\"bg-white text-[#0057A0] px-4 py-1.5 rounded font-semibold hover:bg-gray-200 transition\"\r\n            >\r\n              Login\r\n            </Link>\r\n            <Link\r\n              href=\"/register\"\r\n              className=\"bg-[#C8102E] text-white px-4 py-1.5 rounded font-semibold hover:bg-red-700 transition\"\r\n            >\r\n              Register\r\n            </Link>\r\n          </div>\r\n        )}\r\n        {user && (\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"bg-white text-[#C8102E] px-4 py-1.5 rounded font-semibold hover:bg-gray-200 transition\"\r\n          >\r\n            Logout\r\n          </button>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,UAAO,AAAD;IAEpC,MAAM,eAAe;QACnB,MAAM,MAAM,yCAAyC;YAAE,QAAQ;YAAQ,aAAa;QAAU;QAC9F,MAAM;QACN,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAQ,WAAU;kCAAkB;;;;;;kCAC/C,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAsB,WAAU;kCAAkB;;;;;;kCAC7D,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAc,WAAU;kCAAkB;;;;;;oBAEpD,CAAC,sBACA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;0CAGD,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;oBAKJ,sBACC,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAOX","debugId":null}}]
}