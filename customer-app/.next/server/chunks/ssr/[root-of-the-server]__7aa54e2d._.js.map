{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/lib/auth.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useAuth } from '@/context/AuthProvider'\r\n\r\nexport const useProtectRoute = () => {\r\n  const router = useRouter()\r\n  const { user, loading } = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (!loading && (!user || !user.is_verified)) {\r\n      router.push('/login')\r\n    }\r\n  }, [user, loading, router])\r\n}\r\n"],"names":[],"mappings":";;;AAEA;AACA;AACA;AAJA;;;;AAMO,MAAM,kBAAkB;IAC7B,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,UAAO,AAAD;IAEhC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,KAAK,WAAW,GAAG;YAC5C,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;AAC5B","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/components/FormInput.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\n\r\ntype Props = {\r\n  label: string\r\n  name: string\r\n  type?: string\r\n  value: string\r\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void\r\n  error?: string\r\n  required?: boolean\r\n}\r\n\r\nconst FormInput = ({\r\n  label,\r\n  name,\r\n  type = 'text',\r\n  value,\r\n  onChange,\r\n  error,\r\n  required = false,\r\n}: Props) => {\r\n  return (\r\n    <div className=\"mb-4\">\r\n      <label htmlFor={name} className=\"block text-sm font-medium text-gray-700\">\r\n        {label} {required && <span className=\"text-red-500\">*</span>}\r\n      </label>\r\n      <input\r\n        id={name}\r\n        name={name}\r\n        type={type}\r\n        value={value}\r\n        onChange={onChange}\r\n        required={required}\r\n        className={`mt-1 block w-full px-4 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${\r\n          error ? 'border-red-500' : 'border-gray-300'\r\n        }`}\r\n      />\r\n      {error && <p className=\"text-red-500 text-sm mt-1\">{error}</p>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FormInput\r\n"],"names":[],"mappings":";;;;AAAA;;AAcA,MAAM,YAAY,CAAC,EACjB,KAAK,EACL,IAAI,EACJ,OAAO,MAAM,EACb,KAAK,EACL,QAAQ,EACR,KAAK,EACL,WAAW,KAAK,EACV;IACN,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,SAAS;gBAAM,WAAU;;oBAC7B;oBAAM;oBAAE,0BAAY,8OAAC;wBAAK,WAAU;kCAAe;;;;;;;;;;;;0BAEtD,8OAAC;gBACC,IAAI;gBACJ,MAAM;gBACN,MAAM;gBACN,OAAO;gBACP,UAAU;gBACV,UAAU;gBACV,WAAW,CAAC,4GAA4G,EACtH,QAAQ,mBAAmB,mBAC3B;;;;;;YAEH,uBAAS,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;uCAEe","debugId":null}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/components/FileUpload.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\n\r\ntype Props = {\r\n  label: string;\r\n  name: string;\r\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  required?: boolean;\r\n  error?: string;\r\n};\r\n\r\nconst FileUpload = ({\r\n  label,\r\n  name,\r\n  onChange,\r\n  required = false,\r\n  error,\r\n}: Props) => {\r\n  return (\r\n    <div className=\"mb-4\">\r\n      <label htmlFor={name} className=\"block text-sm font-medium text-gray-700\">\r\n        {label} {required && <span className=\"text-red-500\">*</span>}\r\n      </label>\r\n      <input\r\n        type=\"file\"\r\n        id={name}\r\n        name={name}\r\n        onChange={onChange}\r\n        required={required}\r\n        className={`mt-1 block w-full text-sm text-gray-700 border rounded-md file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 ${\r\n          error ? \"border-red-500\" : \"border-gray-300\"\r\n        }`}\r\n      />\r\n      {error && <p className=\"text-red-500 text-sm mt-1\">{error}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n"],"names":[],"mappings":";;;;AAAA;;AAYA,MAAM,aAAa,CAAC,EAClB,KAAK,EACL,IAAI,EACJ,QAAQ,EACR,WAAW,KAAK,EAChB,KAAK,EACC;IACN,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,SAAS;gBAAM,WAAU;;oBAC7B;oBAAM;oBAAE,0BAAY,8OAAC;wBAAK,WAAU;kCAAe;;;;;;;;;;;;0BAEtD,8OAAC;gBACC,MAAK;gBACL,IAAI;gBACJ,MAAM;gBACN,UAAU;gBACV,UAAU;gBACV,WAAW,CAAC,gNAAgN,EAC1N,QAAQ,mBAAmB,mBAC3B;;;;;;YAEH,uBAAS,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D;uCAEe","debugId":null}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Important/Projects/Clients/Prime%20Pillars/customer-app/app/%28client%29/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useForm, Controller } from 'react-hook-form'\nimport toast from 'react-hot-toast'\n\nimport { useAuth } from '@/context/AuthProvider'\nimport { useProtectRoute } from '@/lib/auth'\n\nimport FormInput from '@/components/FormInput'\nimport FileUpload from '@/components/FileUpload'\n\ntype FormData = {\n  pfa: string\n  rsa_balance: string\n  bvn: string\n  nin: string\n  dob: string\n  phone1: string\n  phone2: string\n  alt_email: string\n  account_opening_form: FileList\n  nin_slip: FileList\n  undertaken_form: FileList\n  consent_form: FileList\n  indemnity_form: FileList\n  application_letter: FileList\n  others: { title: string; file: File | null }[]\n}\n\nexport default function ApplyPage() {\n  useProtectRoute()\n  const router = useRouter()\n  const { user } = useAuth()\n\n  const {\n    register,\n    handleSubmit,\n    control,\n    setError,\n    formState: { errors },\n  } = useForm<FormData>()\n\n  const [otherDocs, setOtherDocs] = useState<FormData['others']>([])\n\n  const handleAddOther = () => {\n    setOtherDocs([...otherDocs, { title: '', file: null }])\n  }\n\n  const handleOtherChange = (index: number, field: 'title' | 'file', value: any) => {\n    const updated = [...otherDocs]\n    if (field === 'title') updated[index].title = value\n    else updated[index].file = value\n    setOtherDocs(updated)\n  }\n\n  const onSubmit = async (data: FormData) => {\n    const formData = new FormData()\n    formData.append('pfa', data.pfa)\n    formData.append('rsa_balance', data.rsa_balance)\n    formData.append('bvn', data.bvn)\n    formData.append('nin', data.nin)\n    formData.append('dob', data.dob)\n    formData.append('phone1', data.phone1)\n    formData.append('phone2', data.phone2)\n    formData.append('alt_email', data.alt_email)\n\n    formData.append('account_opening_form', data.account_opening_form[0])\n    formData.append('nin_slip', data.nin_slip[0])\n    formData.append('undertaken_form', data.undertaken_form[0])\n    formData.append('consent_form', data.consent_form[0])\n    formData.append('indemnity_form', data.indemnity_form[0])\n    formData.append('application_letter', data.application_letter[0])\n\n    otherDocs.forEach((doc, i) => {\n      if (doc.title && doc.file) {\n        formData.append(`other_titles[]`, doc.title)\n        formData.append(`other_files[]`, doc.file)\n      }\n    })\n\n    try {\n      const res = await fetch('http://localhost:5000/api/user/profile', {\n        method: 'POST',\n        credentials: 'include',\n        body: formData,\n      })\n\n      const result = await res.json()\n\n      if (!res.ok) {\n        toast.error(result.message || 'Failed to submit application')\n        return\n      }\n\n      toast.success('Application submitted successfully')\n      router.push('/success') // or dashboard\n    } catch (err) {\n      toast.error('Something went wrong')\n    }\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto px-4 py-10\">\n      <h1 className=\"text-2xl font-bold mb-6\">Complete Your Application</h1>\n      <form onSubmit={handleSubmit(onSubmit)} encType=\"multipart/form-data\">\n        <FormInput label=\"First Name\" name=\"first_name\" defaultValue={user?.first_name} disabled />\n        <FormInput label=\"Surname\" name=\"surname\" defaultValue={user?.surname} disabled />\n        <FormInput label=\"Other Names\" name=\"other_names\" defaultValue={user?.other_names} disabled />\n\n        <FormInput label=\"PFA\" name=\"pfa\" register={register} error={errors.pfa?.message} required />\n        <FormInput label=\"RSA Balance\" name=\"rsa_balance\" register={register} error={errors.rsa_balance?.message} required />\n        <FormInput label=\"BVN\" name=\"bvn\" register={register} error={errors.bvn?.message} required />\n        <FormInput label=\"NIN\" name=\"nin\" register={register} error={errors.nin?.message} required />\n        <FormInput label=\"Date of Birth\" name=\"dob\" type=\"date\" register={register} error={errors.dob?.message} required />\n        <FormInput label=\"Phone Number 1\" name=\"phone1\" register={register} error={errors.phone1?.message} required />\n        <FormInput label=\"Phone Number 2\" name=\"phone2\" register={register} error={errors.phone2?.message} required />\n        <FormInput label=\"Alternative Email\" name=\"alt_email\" register={register} error={errors.alt_email?.message} required />\n\n        {/* Mandatory Docs */}\n        <FileUpload label=\"Account Opening Form\" name=\"account_opening_form\" onChange={(e) => {}} required error={errors.account_opening_form?.message} />\n        <FileUpload label=\"NIN Slip\" name=\"nin_slip\" onChange={(e) => {}} required error={errors.nin_slip?.message} />\n        <FileUpload label=\"Undertaken Form\" name=\"undertaken_form\" onChange={(e) => {}} required error={errors.undertaken_form?.message} />\n        <FileUpload label=\"Consent Form\" name=\"consent_form\" onChange={(e) => {}} required error={errors.consent_form?.message} />\n        <FileUpload label=\"Indemnity Form\" name=\"indemnity_form\" onChange={(e) => {}} required error={errors.indemnity_form?.message} />\n        <FileUpload label=\"Application Letter\" name=\"application_letter\" onChange={(e) => {}} required error={errors.application_letter?.message} />\n\n        {/* Optional Other Docs */}\n        <div className=\"mt-6\">\n          <h2 className=\"text-lg font-semibold mb-2\">Other Documents (Optional)</h2>\n          {otherDocs.map((doc, i) => (\n            <div key={i} className=\"mb-4\">\n              <FormInput\n                label={`Title ${i + 1}`}\n                name={`other_titles_${i}`}\n                required\n                onChange={(e) => handleOtherChange(i, 'title', e.target.value)}\n              />\n              <FileUpload\n                label={`Upload ${i + 1}`}\n                name={`other_files_${i}`}\n                onChange={(e) => handleOtherChange(i, 'file', e.target.files?.[0] || null)}\n              />\n            </div>\n          ))}\n          <button\n            type=\"button\"\n            className=\"text-blue-600 hover:underline text-sm\"\n            onClick={handleAddOther}\n          >\n            + Add Another Document\n          </button>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary w-full mt-6\"\n        >\n          Submit Application\n        </button>\n      </form>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}